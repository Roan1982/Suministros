{% extends 'inventario/base.html' %}
{% load static %}
{% block content %}
<div class="row justify-content-center w-100">
  <div class="col-lg-8 col-xl-7">
    <div class="card shadow-lg border-0 mb-4 animate__animated animate__fadeIn">
      <div class="card-body p-5">
        <h2 class="mb-4 fw-bold text-primary">
          <i class="fa-solid fa-layer-group me-2"></i>Agregar Bien
        </h2>
        <form method="post" autocomplete="off" id="form-agregar-bien">
          {% csrf_token %}
          <div class="mb-4">
            {% for field in form %}
              <div class="mb-3">
                <label class="form-label fw-semibold">{{ field.label }}</label>
                {{ field }}
                {% if field.errors %}
                  <div class="text-danger small">{{ field.errors|striptags }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
          <div class="d-flex justify-content-between align-items-center mt-4">
            <button type="submit" class="btn btn-success btn-lg px-5 fw-bold shadow">
              <i class="fa-solid fa-floppy-disk me-2"></i>Guardar
            </button>
            <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary btn-lg px-4 fw-bold shadow-sm d-flex align-items-center">
              <i class="fa-solid fa-arrow-left me-2"></i>Volver al panel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'inventario/formset_dynamic.js' %}"></script>
<script>
  $(document).ready(function() {
    // Aplica select2 con bootstrap-5 al campo rubro
    $("#form-agregar-bien select[name='rubro']").select2({
      width: '100%',
      theme: 'bootstrap-5',
      placeholder: 'Seleccione un rubro',
      allowClear: true,
      language: 'es'
    });
    // Corrige el padding y alineaci√≥n para select2-bootstrap5
    $("#form-agregar-bien .select2-container--bootstrap-5 .select2-selection").addClass('form-control');
  });
</script>
{% endblock %}
